<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1" />
  <title>Fuera de línea – lujo offline</title>

  <!-- Fuente estilo terminal -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=VT323&display=swap" rel="stylesheet">

  <style>
    * { box-sizing: border-box; margin: 0; padding: 0; }

    body {
      min-height: 100vh;
      background-color: #050505;
      color: #f1f1f1;
      font-family: "VT323", monospace;
      display: flex;
      align-items: center;
      justify-content: center;
      flex-direction: column;
      padding: 8vh 6vw;
      text-align: center;
      transition: background-color 2s ease-out;
    }

    main {
      width: 100%;
      max-width: 480px;
    }

    h1 {
      font-size: 1.9rem;
      line-height: 1.35;
      margin-bottom: 24px;
      letter-spacing: 0.02em;
    }

    p {
      font-size: 1.05rem;
      line-height: 1.6;
      opacity: 0.9;
      margin-bottom: 16px;
    }

    .cursor {
      display: inline-block;
      width: 0.6ch;
      animation: blink 1s steps(1) infinite;
    }

    @keyframes blink {
      0%, 50% { opacity: 1; }
      50.01%, 100% { opacity: 0; }
    }

    /* Formulario */
    form {
      margin-top: 22px;
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 12px;
    }

    input[type="email"] {
      background: transparent;
      border: 1px solid #f1f1f1;
      padding: 10px;
      color: #f1f1f1;
      font-family: "VT323", monospace;
      font-size: 1.05rem;
      width: 90%;
      text-align: center;
      border-radius: 2px;
    }

    input[type="submit"] {
      background: transparent;
      color: #f1f1f1;
      border: 1px solid #f1f1f1;
      padding: 10px 18px;
      font-family: "VT323", monospace;
      font-size: 1.05rem;
      cursor: pointer;
      transition: 0.3s;
    }

    input[type="submit"]:hover {
      background: #f1f1f1;
      color: #050505;
    }

    /* Efecto apagón */
    .fade-out {
      opacity: 0;
      transition: opacity 2s ease-out;
    }

    .blackout {
      background-color: #000 !important;
      transition: background-color 2s ease-out;
    }

    @media (min-width: 600px) {
      h1 { font-size: 2.4rem; }
      p, input[type="email"], input[type="submit"] { font-size: 1.2rem; }
    }
  </style>
</head>
<body>
  <main id="main">
    <h1 id="title" data-text="Estar fuera de línea es el nuevo lujo"></h1>
    <p id="subtitle" data-text="Ningún contenido nuevo disponible. Solo el momento presente."></p>
    <p id="system" data-text="Recomendación del sistema: apaga la pantalla y anda a tocar pasto."></p>
    <p id="invite" data-text="Si quieres saber más de las actividades fuera de línea, deja tu mail y te contactaremos."></p>

    <form id="contactForm">
      <input type="email" id="email" placeholder="tu@email.com" required>
      <input type="submit" value="Enviar">
    </form>

    <span id="cursor" class="cursor">▋</span>
  </main>

  <script>
    const elements = [
      document.getElementById("title"),
      document.getElementById("subtitle"),
      document.getElementById("system"),
      document.getElementById("invite")
    ];
    const cursor = document.getElementById("cursor");
    const speed = 55; // velocidad de escritura

    function typeText(el, text, index, callback) {
      if (index < text.length) {
        el.textContent += text.charAt(index);
        setTimeout(() => typeText(el, text, index + 1, callback), speed);
      } else if (callback) {
        callback();
      }
    }

    function startTyping(i = 0) {
      if (i >= elements.length) return;
      const el = elements[i];
      const text = el.getAttribute("data-text");
      typeText(el, text, 0, () => setTimeout(() => startTyping(i + 1), 600));
    }

    startTyping();

    // Envío del formulario con cuenta regresiva y apagón
    const form = document.getElementById("contactForm");
    const main = document.getElementById("main");

    form.addEventListener("submit", e => {
      e.preventDefault();

      main.innerHTML = `
        <p style="font-size:1.3rem; margin-bottom:20px;">✔️ Correo enviado</p>
        <p style="font-size:1.1rem;">Esta pantalla se irá a negro en</p>
        <p id="countdown" style="font-size:2rem; margin-top:10px;">3</p>
      `;

      let count = 3;
      const countdown = document.getElementById("countdown");

      const interval = setInterval(() => {
        count--;
        countdown.textContent = count;
        if (count === 0) {
          clearInterval(interval);
          document.body.classList.add("fade-out");
          setTimeout(() => {
            document.body.classList.add("blackout");
            main.innerHTML = ""; // Limpia el contenido
          }, 2000);
        }
      }, 1000);
    });
  </script>
</body>
</html>
